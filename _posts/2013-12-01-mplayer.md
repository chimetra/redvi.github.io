---
layout: post
title: Просмотр зарубежных фильмов с mplayer
date: 2013-12-01 09:10
tags: [linux]
slug: mplayer
author: redVi
summary: Шпаргалка по работе с программой mplayer.
---

Заметка навеяна [постом на eax.me](http://eax.me/english/), в котором ведущий блога затрагивает тему изучения английского языка. Надо признаться, что вопрошателем, которым был задан вопрос, ответом на который является указанный по ссылке пост (да-да, русский язык велик и могуч, его сложноподчинённые предложения могут быть сколь угодно длинными), является автор сего блога.

В школе/ВУЗ'е достался мне немецкий язык, английский осваивался и осваивается по мере необходимости и я не могу похвастать отличным знанием оного. Собственно, помимо чтения книг/документации и постепенного пополнения словарного запаса, никаких потугов к углублению знаний не предпринималось. Момент с видеофильмами был благополучно проигнорирован сознанием, а зря...

Поэтому сегодня предлагается углубиться в дебри английского разговорного посредством просмотра фильмов с оригинальной озвучкой. Курс взят. Осталось лишь найти фильмы и подобрать видеоплеер для их просмотра.

### как искать

Зачастую большинство из киноманов-любителей не задаётся вопросом проверки качества, подходящего формата фильма и уж тем более наличия/отсутствия в нём субтитров или дополнительных звуковых дорожек. Если же вопросом о дорожках задаться, параметры поиска вырисовываются следующие:

- DUB обозначает дубляж, то есть перевод
- Original указывает на наличие оригинальной звуковой дорожки
- SUB знаменует собой субтитры, на каком языке и в какой кодировке должно быть указано в описании

То есть в названии или описании файла должно быть примерно следующее: Dub + Original + Subs(eng,rus).

### выбор видеопроигрывателя

Я отношусь к той категории граждан, которые искренне недоумевают зачем использовать GUI, если он является лишь надстройкой над консольной программой. Этот выбор приемлем только с учётом повышения удобства, но программа, к которой мы обратимся с нашими нуждами, сложности в повседневном использовании не представляет.

Конечно же, это mplayer.

*Примечание:* в случае с Gentoo Linux убедитесь, что включены флаги `sse`, `mmx` и `mmxext`, что должно значительно ускорить работу со звуком и видео. Пример:

```sh
# /etc/portage/package.use
media-video/mplayer sse mmx mmxext
```

После чего пересобрать mplayer.

Настройки изменять не обязательно, но на случай, если вас не устраивает стандартное поведение программы, файл конфигурации находится по пути `/etc/mplayer/mplayer.conf`. Его можно скопировать в домашний каталог (`~/.mplayer/config`) и изменить, например, дорожку, используемую по-умолчанию. Вот некоторые опции, которые могут быть полезны нам в данный момент:

```sh
# ~/.mplayer/config
# DVD: отображать русские субтитры
slang = ru

# DVD: Проигрывать английскую аудиодорожку
alang = en
```

Настройка горячих клавиш может быть сделана таким же образом, но с указанием опций в `input.conf`.

Привязка клавиш должна соответствовать формату <название_клавиши><назначенное_действие>:

```sh
# ~/.mplayer/input.conf
# switch_audio  # переключить звуковую дорожку, выглядит как комментарий, но это не он :)
q quit          # закрыть mplayer
ESC quit        # то же
SPACE pause     # остановить воспроизведение
o osd 3         # смотрим сколько времени идёт фильм, сколько осталось до конца
p osd 1         # скрыть информацию о времени просмотра
9 volume -1     # уменьшить громкость
0 volume 1      # увеличить громкость
1 contrast -1   # управление контрастом
2 contrast 1
3 brightness -1 # управление яркостью
4 brightness 1
r sub_pos -1    # переместить субтитры выше
t sub_pos +1    # или ниже
j sub_select    # переключить/выключить субтитры
f vo_fullscreen # полноэкранный/обычный режим
s screenshot    # сделать скриншот
m mute          # выключить звук
```

### выбор звуковой дорожки и субтитров

Для начала узнаем, какие дорожки поддерживает видео. В примере наш фильм именуется The_Interpreter.2005.mkv:

```console
$ mplayer -vo null -ao null -frames 0 -v The_Interpreter.2005.mkv | grep aid
[lavf] stream 1: audio (ac3), -aid 0, -alang rus, DUB
$ mplayer -vo null -ao null -frames 0 -v The_Interpreter.2005.mkv | grep sid
[lavf] stream 2: subtitle (subrip), -sid 0, -slang rus
[lavf] stream 3: subtitle (subrip), -sid 1, -slang eng
```
Как видно из вывода, в фильме не оказалось оригинальной звуковой дорожки, но есть субтитры.

Если дорожек несколько, выбираем необходимую и запускаем mplayer с указанием её номера (aid для аудио, sid для субтитров).

```console
$ mplayer -aid 0 -sid 1 The_Interpreter.2005.mkv # дорожка, субтитры, файл
$ mplayer -alang rus -slang eng The_Interpreter.2005.mkv # то же
```

Если вы скачали дорожку отдельно, подключить её можно [так](http://rutracker.org/forum/viewtopic.php?t=2403326):

```console
$ mplayer -audiofile <путь к дорожке> <видео файл>
$ mplayer -audiofile The_Interpreter.2005.ac3 The_Interpreter.2005.mkv # для нашего примера
```

При необходимости можно переключиться на русские субтитры:

[![The Interpreter](http://farm4.staticflickr.com/3740/10977008833_1ce3ffbbd1_z.jpg "The Interpreter")](http://farm4.staticflickr.com/3740/10977008833_1ce3ffbbd1_b.jpg)


> Лучше смотреть фильм частями по 5-20 минут, сначала оригинал без субтитров, затем с переводом. Важно действительно понять о чём идёт речь вплоть до мельчайших подробностей. Это трудно, но выполнимо.

### дополнительные настройки mplayer

Дополнительно можно отметить возможность установки таких параметров как масштаб субтитров, вывод видео в X11 или же во фреймбуффере, выбор alsa или pusleaudio для вывода звука, управление кэшированием и прочее.

```sh
# ~/.mplayer/config
# установить масштаб субтитров равным 3% от размера экрана
subfont-text-scale=3
# использовать alsa для вывода звука
# возможны значения oss, pulse
ao=alsa
# использовать X11 для вывода видео
vo=xv
```

В случаях, когда звук в фильме воспроизводится слишком тихо и виной тому отнюдь не аудио-дорожка, рекомендуется включить принудительную настройку уровня громкости прямо в mplayer:

```sh
# ~/.mplayer/config
softvol=1
softvol-max=3000
```
Параметр `softvol-max` принимает значения от 10 до 10000. На уровень громкости эти установки влияют существенно, поэтому не выставляйте сразу слишком большое значение: подбирайте с умом. Также можно &laquo;подкрутить&raquo; параметры при помощи alsamixer.

> Чтобы mplayer запоминал позицию при просмотре фильма можно воспользоваться скриптом [mplayer.ext](http://sourceforge.net/projects/mplayerext/).

Если при просмотре DVD-дисков для вас важно видеть меню навигации, открывайте их так:

```console
$ mplayer -nocache -mouse-movements dvdnav://
```

Опция `mouse-movements` позволит выбирать пункты меню при помощи мыши.

[![mplayer DVD](https://farm8.staticflickr.com/7360/10988206234_693161850d.jpg "Mplayer DVD")](https://farm8.staticflickr.com/7360/10988206234_693161850d_b.jpg)

В целом, это всё. По мелочам пост может быть со временем дополнен и расширен, ибо mplayer имеет ещё много, много возможностей. Хотя вряд ли эта заметка сможет заменить `man mplayer`, да и незачем.

### по поводу английского

1. Грамматика
    * Джина Каро «Английский для наших»
    * Очень рекомендуют «Cambridge Grammar In Use» (Raymond Murphy)

2. Чтение
    * Хорошим подспорьем при чтении книг будет связка для Android: AlReader + ColorDict. Первый представляет собой программу для чтения электронных книг, второй &mdash; словарь. Работают они сообща: при клике на незнакомое слово, оно тут же ищется в словаре.
    * Читайте блоги зарубежных коллег. По началу понятно не будет ровным счётом ничего. Это не страшно. Для Firefox есть плагин Google Translator for Firefox. В настройках плагина можно задать сочетание горячих клавиш и при встрече с незнакомым словом выделить его и перевести.
    * Наконец, есть так называемые адаптированные тексты. Например, введите в поисковой системе «метод Ильи Франка».

3. Произношение
    * Весьма желательно говорить с носителями изучаемого языка. В моём учебном заведении была преподавательница французского, смысл слов которой не могли понять приехавшие на выставку французы. Выводы предлагаю сделать самостоятельно.

И да осилит дорогу идущий. Удачи!
