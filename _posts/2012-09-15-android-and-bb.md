---
layout: post
title: Сквозное подключение. Android и ББ
date: 2012-09-15 08:25
tags: [android]
slug: android-and-bb
author: redVi
summary: ББ - большой брат, то есть компьютер или ноутбук с каким-либо подключением к интернету.
---

ББ &mdash; большой брат, то есть компьютер или ноутбук с каким-либо подключением к интернету.

### Зачем это нужно?

Например, ситуация: у вас есть доступ к сети по DSL, wi-fi нет, GPRS слишком дорог. Что делать? Правильно, заняться подключением брата меньшего к брату старшему, дабы спокойно обновлять приложения и ходить в твиттер через android-устройство.


<b>Внимание!</b> Для сквозного подлючения необходимо получить права рута для вашего устройства. Один из способов рассмотрим прямо сейчас.

## Шаг 1. Root-права

Для прошивок 4.0.4 и 4.0.3

- Закинуть Root SuperSU в корень вашего устройства
- Зайти в режим рекавери - Громкость вверх + Home +Power
- Выбрать и проинсталлировать файл [Root_SuperSU.0.95-Busybox.1.20.2-S2-signed.zip](https://docs.google.com/open?id=0ByEuEzl-f9rcOWl0M09FNmM2ZXM)
- Выбирать apply update from external storage (перемещение клавишами громкости , выбор - клавиша power)
- Выйти на уровень выше
- Выбрать reboot now

Готово

## Шаг 2. Настройка подключения

### Способ 1. Без установки сторонних утилит для подключения

- Установить Android Terminal Emulator и Gscript Lite
- Подключить телефон к ББ при помощи usb. В настройках телефона:
```
- Настройки --> Дополнительно --> Модем и точка доступа --> USB-модем
```

[![modem](http://farm6.staticflickr.com/5533/9302009258_1486427612_n.jpg)](http://farm6.staticflickr.com/5533/9302009258_cc80988d3e_o.png)

На компьютере определится новое сетевое соединение. Теперь нужно внести необходимые настройки ip-адреса и маски подсети, а также расшарить наше основное активное подключение. Иными словами открыть общий доступ.

Настройки нового сетевого соединения. Вам нужно заменить адреса на свои:

[![win](http://farm8.staticflickr.com/7391/10539693836_9e1c86a6ff_n.jpg)](http://farm8.staticflickr.com/7391/10539693836_9e1c86a6ff_b.jpg)

Вместо адреса `192.168.42.1` вам следует прописать адрес вашего устройства. Для этого открываем `Android Terminal Emulator` и пишем:

```console
$ su
# netcfg
```

- Смотрим на вывод команды, запоминаем или записываем куда-нибудь искомую информацию, а именно:
- название устройства (например, usb0 или rndis0 как у нас)
- его IP, в нашем случае это 192.168.42.1

[![ip](http://farm8.staticflickr.com/7282/9302020640_25670e0dda_n.jpg)](http://farm8.staticflickr.com/7282/9302020640_386664f839_o.png)

Открываем доступ к Большому Брату:

[![bb](http://farm8.staticflickr.com/7434/10539787814_be31fbae8c_n.jpg)](http://farm8.staticflickr.com/7434/10539787814_be31fbae8c_b.jpg)

Также включим маршрутизацию:

[![rr](http://farm6.staticflickr.com/5543/10539826914_d134ee8bfa_n.jpg)](http://farm6.staticflickr.com/5543/10539826914_d134ee8bfa_b.jpg)

Открываем `Gscript Lite` и рисуем код, снова подставив свои, а не автора значения.
Код:

```console
# ifconfig rndis0 up
# route add default gw 192.168.42.1 dev rndis0
# setprop net.dns1 8.8.8.8
```

Интерпретация:

- Первая команда поднимет сетевой интерфейс
- Вторая укажет адрес шлюза и устройство
- Третья присвоит DNS-адрес, который может быть и адресом вашего Провайдера. В примере стандартный DNS Google

Сохраните скрипт

[![script](http://farm8.staticflickr.com/7350/9299248439_e65e31bfa1_n.jpg)](http://farm8.staticflickr.com/7350/9299248439_9542f5faf4_o.png)

Ответственный момент - подключение:

- Зажать клавишу Power - включить Передачу данных
- Открыть Gscript Lite, запустить скрипт
- Зажать Power - отключить передачу данных

[![run](http://farm8.staticflickr.com/7459/9302043992_23256c88d7_n.jpg)](http://farm8.staticflickr.com/7459/9302043992_bd55c3a947_o.png)

<b>Интерпретация:</b>

В принципе в интернет устройство ходить уже может, но по-прежнему думает, что подключения нет. Шаманство с интерпретацией данных должно сэмулировать мобильное интернет-подключение, тогда телефон решит, что он официально подключен к глобальной сети и помимо хождения по страницам позволит обновлять приложения и полноценно работать с Google Play. Хотя, надо отметить, что некоторые уже установленные приложения самостоятельно обновлять данные не пожелают. Это относится, например к обновлению баз Doctor Web. Баз, а не самого антивируса, ибо с Маркетом проблем нет.

Если что-то не выходит, пользуемся ссылкой по теме. Способы есть разные, но для остальных нужны дополнительные приложения. Не стоит ставить лишний хлам, если и так всё работает.


