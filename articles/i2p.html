<!DOCTYPE html>
<html lang="ru">
<head>
  <title>i2p: взгляд пользователя</title>
  <meta charset="utf-8">
  <meta name="description" content="О том, как выжить в современном интернете. Открываем доступ к заблокированным сайтам с помощью i2p.">  <meta name="author" content="Anarchist">  <meta name="viewport" content="initial-scale=1.0, width=device-width" />
  <link href="http://www.unix-lab.org/theme/css/screen.css" rel="stylesheet" type="text/css" />
  <meta name='yandex-verification' content='494a81ecb0e796d6' />
  <link rel="icon" href="http://www.unix-lab.org/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="http://www.unix-lab.org/favicon.ico" type="image/x-icon">
  <link href="http://www.unix-lab.org/" type="application/atom+xml" rel="alternate" title="unix-lab.org ATOM Feed" />
  <link href="http://www.unix-lab.org/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="unix-lab.org RSS Feed" />
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
    <a href="http://www.unix-lab.org"><div class="logo"></div></a>
    <div class="small">блог об операционных системах, open source и программировании</div>
<div class="nav">
        <ul>
      <li><a href="http://www.unix-lab.org/archives.html">Архив</a></li>
      <li><a href="http://www.unix-lab.org/about.html">О блоге</a></li>
      <li><a href="http://www.unix-lab.org/authors.html">Экипаж</a></li>
    </ul>
</div>
</div>    <div id="main">
<h2><a href="http://www.unix-lab.org/articles/i2p.html">i2p: взгляд пользователя</a></h2>
<h5><i class="icon-feather"></i> 31 Июль 2013 </h5>
<p>Пользователю что нужно?</p>
<p>Чтобы работало :)</p>
<p><u>Вменяемому</u> пользователю что нужно?</p>
<p>Помимо вышесказанного &mdash; понимание (хотя бы в общих чертах), <u>как</u> оно работает.</p>
<h2>Краткое описание</h2>
<p>Сеть высшего порядка (надстройка прикладного уровня над этими вашими интернетами). Использующая альтернативный традиционному (DNS) механизм трансляции имён: <a href="http://www.flibusta.net/node/161279">вспоминаем простейший способ блокировки неугодного ресурса</a>.</p>
<p>Данные передаются между узлами сети. При этом выделяемая для транзитного трафика полоса предопределяется пользователем (чем больше транзита &mdash; тем сложнее выделить/идентифицировать трафик, инициируемый непосредственно узлом).</p>
<p>Разработка решала задачу повышения интересности бытия группам лиц, заинтересованным в блокировке доступа к неугодному ресурсу.</p>
<p>Как всегда, решение далеко небесплатно. Расплачиваться придётся как полосой пропускания, так и транзитным трафиком (для тех, кто не сидит на безлимитном канале может оказаться важно).</p>
<p>Ограничений по требованию к скорости канала для того, чтобы система работала мне не известно (но вопрос стоит проработать).</p>
<p>Также необходимо помнить, что ни от злоумышленника на стороне сервера (например фишинговый ресурс), ни от локальных вирусов (пользователи альтернативной ОС обычно благополучно избегают знания, что антивирус является главным вирусом в системе).</p>
<p>В любом случае (надстройка, да с цепочкой транзитных узлов &mdash; следовательно задержки) работает заметно медленнее привычного интернета.</p>
<p>Сервисы (помимо http) живут разные. Не разворачиваю, ибо в данном контексте они не интересны.</p>
<p>Воспользуясь послезнанием скажу пару слов о реализации: написано на жабе (что не добавляет скорости).</p>
<p>Узел сети &mdash; самостоятельное приложение (или демон), работающее в качестве прокси-сервера, осуществляющего маршрутизацию http-запросов в i2p-сеть и обратную трансляцию получаемых пакетов.
Вопросы настройки публичного узла доступа в i2p-сеть (безопасности) здесь рассматривать не буду (простому пользователю нет дела до того, что выходит за рамки localhost'а).</p>
<h2>Поиск/установка i2p-прокси сервера</h2>
<p><code>eix-remote</code> в помощь.</p>
<p>Строка поиска (сюрприз): <code>"i2p"</code>.</p>
<p>Также можно воспользоваться web-мордой поиска: <a href="http://gpo.zugaina.org/">http://gpo.zugaina.org/</a></p>
<p>Ответ уникален:</p>
<div class="highlight"><pre><span class="go">[I] net-p2p/i2p [1]</span>
<span class="go">Available versions: ~0.6.2 ~0.6.5 ~0.7 ~0.7.1 ~0.7.2 ~0.7.3 ~0.7.5</span>
<span class="go">Installed versions: 0.8.8(18:16:27 20.05.2012)(initscript -elibc_FreeBSD)</span>
<span class="go">Homepage: http://www.i2p.net/</span>
<span class="go">Description: I2P is an anonymous network, exposing a simple layer that applications can use to anonymously and securely send messages to each other.</span>
</pre></div>


<p>Инструкция по установке традиционно у Вики.
После добавления оверлея и (при необходимости) размаскировки устанавливается стандартно:</p>
<div class="highlight"><pre><span class="gp">#</span> emerge net-p2p/i2p
</pre></div>


<p>Все необходимые зависимости скачиваются и устанавливаются автоматически, пользователям альтернативной ОС взирать и завидовать, пользователям других дистрибутивов установить стандартным для данного дистрибутива образом.</p>
<p>Лично я предпочитаю вариант установки с стартовым скриптом. Но можно запускать прокси и любым другим способом.</p>
<h2>Настройка i2p-маршрутизатора (узла сети)</h2>
<p>Запуск осуществляктся командой:</p>
<div class="highlight"><pre><span class="gp">$</span> i2prouter start
</pre></div>


<p>Административная консоль живёт по адресу <a href="http://localhost:7657/index.jsp">http://localhost:7657/index.jsp</a> (необходимой и достаточной мерой безопасности полагаю запрет подключения с адресов отличных от локалхоста).</p>
<p><img alt="img1" src="http://cdn.flibusta.net/sites/default/files/i2p_router_console.png" /></p>
<p>К настройке отмечу куцесть и недостаточность умолчательной подписки. Полагаю достаточным (и даже избыточным) унесёный с одной из предыдущих инструкций список. Url соответствующей страницы в административной консоли:</p>
<p><a href="http://localhost:7657/susidns/subscriptions.jsp">http://localhost:7657/susidns/subscriptions.jsp</a></p>
<p>И собственно подписки (сюда же включена и умолчательная):</p>
<ul>
<li>http://www.i2p2.i2p/hosts.txt</li>
<li>http://i2host.i2p/cgi-bin/i2hostetag</li>
<li>http://stats.i2p/cgi-bin/newhosts.txt</li>
<li>http://tino.i2p/hosts.txt</li>
<li>http://dream.i2p/hosts.txt</li>
<li>http://hosts.i2p/</li>
<li>http://biw5iauxm7cjkakqygod3tq4w6ic4zzz5mtd4c7xdvvz54fyhnwa.b32.i2p/unce...</li>
<li>http://trevorreznik.i2p/hosts.txt</li>
<li>http://cipherspace.i2p/addressbook.txt</li>
<li>http://hosts.i2p/hosts.cgi?filter=all</li>
<li>http://bl.i2p/hosts2.txt</li>
<li>http://rus.i2p/hosts.txt</li>
<li>http://inr.i2p/export/alive-hosts.txt</li>
</ul>
<p>Остаётся только отметить наши адреса:</p>
<div class="highlight"><pre><span class="nl">http:</span><span class="c1">//flibusta.i2p</span>
<span class="nl">http:</span><span class="c1">//zmw2cyw2vj7f6obx3msmdvdepdhnw2ctc4okza2zjxlukkdfckhq.b32.i2p</span>
</pre></div>


<p>(запишите в закладки)</p>
<p>И то, что настоящий момент фича выключена.</p>
<p>...и проверить конфигурацию пакетного фильтра.</p>
<p>Порты можно задавать достаточно произвольно в административной консоли. Умолчательный ЕМНИП <code>30445</code>. Используются оба протокола (tcp и udp).</p>
<h2>Завершающим этапом настройка клиента (браузера)</h2>
<p>В случае FireFox решается установкой соответствующего расширения.</p>
<p>Например, <a href="https://addons.mozilla.org/en-US/firefox/addon/foxyproxy-standard/">FoxyProxy Standard</a> (случай, описываемый мной, в меру мутный, ибо за часть режимов уже закономерно хотят денег, по идее должно хватить и <a href="https://addons.mozilla.org/en-US/firefox/addon/foxyproxy-basic/">FoxyProxy Basic</a>).</p>
<p>Вообще-то настройка подключения разобрана в ЧаВо i2p, но перескажу.</p>
<p>В настройках PoxyProxy добавить прокси-сервер <code>localhost i2p router</code>. На первой вкладке настроек проставить включение прокси-сервера и запрет на использование системного DNS для разрешения имён (всё равно i2p в стандартном DNS отсуствует).</p>
<p><img alt="img2" src="http://cdn.flibusta.net/sites/default/files/foxyproxy_common.png" /></p>
<p>На второй вкладке указать адрес и порт подключения (<code>localhost</code> и <code>4444</code> соответственно).</p>
<p><img alt="img3" src="http://cdn.flibusta.net/sites/default/files/foxyproxy_connection.png" /></p>
<p>На третьей вкладке проставить запрет использования прокси для локальных адресов и задать шаблон белого списка:</p>
<p><code>*.i2p/*</code></p>
<p><img alt="img3" src="http://cdn.flibusta.net/sites/default/files/foxyproxy_filter.png" /></p>
<p>Собственно, всё.</p>
<p>Теперь доступ в i2p-сеть работает.</p>
<p>Можно проверить посредством обращения например на адрес (из стандартных) <a href="http://www.i2p2.i2p/">http://www.i2p2.i2p/</a></p>
<p>Для более-менее нормальной работы с произвольным (из известных) узлом i2p-сети нужно дать маршрутизатору время на интеграцию в Сети (по моим оценкам двух-трёх суток более чем достаточно, цифры, характеризующие степень интеграции, можно увидеть на консоли маршрутизатора).</p>
<p><b>Update:</b> Начиная с определённого уровня интеграции в сети (i2p) можно использовать эту сеть для доступа и к обычным ресурсам.</p>
<p>Например, если к списку шаблонов маршрутизации добавить:</p>
<div class="highlight"><pre><span class="o">*</span><span class="n">proxy</span><span class="p">.</span><span class="n">flibusta</span><span class="p">.</span><span class="n">net</span><span class="o">/*</span>
</pre></div>


<p>То запросы к альтернативному адресу Ф. (не i2p (т.е. eepsite) -сайт, а обычный сайт в обычных интернетах) будут использовать в качестве транспорта i2p-сеть.</p>
<p><strong>Примечание от redVi:</strong></p>
<blockquote>
<p>Укажу на более лёгкий путь: зачастую достаточно установить браузер TOR. Для пользователей linux инструкция сводится буквально к двум шагам:
Перво-наперво идём на <a href="https://www.torproject.org/">страницу проекта</a> и скачиваем последнюю версию браузера.</p>
<p>А затем распаковываем скачанный архив и в консоли набираем команду:</p>
<p>$ sh start-tor-browser</p>
<p>После чего запустится приветственное окно и, спустя несколько секунд, откроется сам браузер. Анонимно? Ну, по крайней мере можно безпрепятственно посещать закрытые нашими вездесущими законописателями сайты и не светить ip-адрес. Для примера можете зайти на яндекс: пытаясь определить место вашей дислокации, он покажет вам погоду... в Германии ;)</p>
</blockquote>
<h5><i class="icon-user"></i> <a href="http://www.unix-lab.org/author/anarchist.html">Anarchist</a>,
<i class="icon-bookmarks"></i> <a href="http://www.unix-lab.org/tag/linux.html">Linux</a> /
<a href="http://www.unix-lab.org/tag/web.html">Web</a> /
</h5>
<p align="center"><a href="#">наверх</a></p>
</div>
</div>
<div id="footer-wrapper">
<ul class="footer">
       <li class="footer"><a href="http://www.unix-lab.org/tag/android.html">Android&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/arch.html">Arch&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/blog.html">Blog&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/debian.html">Debian&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/decorations.html">Decorations&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/django.html">Django&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/editors.html">Editors&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/gentoo.html">Gentoo&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/git.html">Git&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/javascript.html">JavaScript&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/kernel.html">Kernel&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/latex.html">LaTeX&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/linux.html">Linux&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/python.html">Python&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/server.html">Server&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/web.html">Web&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/windows.html">Windows&nbsp;&bull;</a></li>
  </ul><ul class="footer">
    <li class="footer">&copy;&nbsp;2011&mdash;2013&nbsp;::</li>
    <li class="footer"><a href="http://www.unix-lab.org">unix-lab.org </a>&nbsp;::</li>
    <li class="footer">powered by <a href="https://github.com/getpelican">pelican</a>&nbsp;::</li>
    <li class="footer"><a href="http://creativecommons.org/licenses/by-nc/3.0/deed.ru">CC BY-NC</a></li>
</ul>
</div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42400517-1', 'www.unix-lab.org');
  ga('send', 'pageview');

</script>
</body>
</html>