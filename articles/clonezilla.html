<!DOCTYPE html>
<html lang="ru">
<head>
  <title>Простое создание резервных копий с clonezilla</title>
  <meta charset="utf-8">
  <meta name="description" content="Наиболее простой способ сохранить копию своей системы.">  <meta name="author" content="redVi">  <meta name="viewport" content="initial-scale=1.0, width=device-width" />
  <link href="http://www.unix-lab.org/theme/css/screen.css" rel="stylesheet" type="text/css" />
  <meta name='yandex-verification' content='494a81ecb0e796d6' />
  <link rel="icon" href="http://www.unix-lab.org/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="http://www.unix-lab.org/favicon.ico" type="image/x-icon">
  <link href="http://www.unix-lab.org/" type="application/atom+xml" rel="alternate" title="unix-lab.org ATOM Feed" />
  <link href="http://www.unix-lab.org/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="unix-lab.org RSS Feed" />
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
    <a href="http://www.unix-lab.org"><div class="logo"></div></a>
    <div class="small">блог об операционных системах, open source и программировании</div>
<div class="nav">
        <ul>
      <li><a href="http://www.unix-lab.org/archives.html">Архив</a></li>
      <li><a href="http://www.unix-lab.org/about.html">О блоге</a></li>
      <li><a href="http://www.unix-lab.org/authors.html">Экипаж</a></li>
    </ul>
</div>
</div>    <div id="main">
<h2><a href="http://www.unix-lab.org/articles/clonezilla.html">Простое создание резервных копий с clonezilla</a></h2>
<h5><i class="icon-feather"></i> 16 Октябрь 2012 </h5>
<p>Весьма и весьма удобно создавать образ своей операционной системы, дабы затем восстанавливать не отдельные разделы, а всё — целиком и полностью. В linux традиционно принято проводить эту процедуру при помощи утилиты dd, которая копирует содержимое диска поблочно, ну и восстанавливает так же. То есть если объём вашего нынешнего HDD 500 Гб, то восстановив свои данные на новый диск, вы получите те же 500 Гб, даже если ваш новый диск имеет куда больший размер. Остальное пространство использовано не будет. По этому поводу сегодня вспомним другую полезность в лице cp, а также упростим процедуру создания образа диска с linux.</p>
<p>Заранее приношу свои извинения за качество снимков, процедура проводилась на реальном железе. Скрины с виртуальной машины, конечно, выглядели бы эстетичнее.</p>
<p>Итак, ежели поблочное копирование вам не нужно ввиду желания поместить систему на диск большего объёма, читаем заметку о создании резервного копирования при помощи <a href="linux-on-hdd.html">cp</a>.</p>
<p>Для всех остальных предназначен данный пост, где мы рассмотрим такую замечательную штуку как clonezilla. Clonezilla умеет работать с любой операционной системой, поэтому создаст вам точную копию диска как Windows, так и Linux машины.</p>
<p>Скачать live cd clonezilla можно <a href="http://clonezilla.org/downloads.php">по этому адресу</a>. После чего следует записать образ на диск либо создать загрузочную флешку. Собственно, как с этим работать:</p>
<p>clonezilla так же как и dd берёт всё содержимое вашего жёсткого диска и архивирует его. При последующем восстановлении системы, хоть на пустой диск, хоть на диск с какими-либо данными ( которые затрутся впоследствии) вы получите те же разделы того же размера, которые имелись на момент создания образа. Что ж, начали.</p>
<h3>Загружаемся с live cd — параметры можно оставить по дефолту</h3>
<p>Далее нам будет предложено выбрать язык и раскладку клавиатуры. Поскольку мы являемся носителями русского языка, его и выберем. Также убедительно попросим не трогать раскладку.</p>
<p><img alt="img" src="http://3.bp.blogspot.com/-053eQvEIivQ/UGUy1p3iQEI/AAAAAAAABj4/uh8D7ru8LEc/s1600/language.jpg" /></p>
<p>Далее выберите, что угодно вам: создание образа диска как в этом примере или же работа с отдельными разделами</p>
<p><img alt="img" src="http://3.bp.blogspot.com/-Tf2U24_pwBE/UGUy8DzAL-I/AAAAAAAABkA/fcVK1pWFOL8/s1600/clonezilla.jpg" /></p>
<p>После чего нас снова попросят сделать выбор:</p>
<p>clonezilla может создать образ на локальном диске, передать его по ssh или на samba-сервер/nfs-сервер. Skip следует нажать в случае, если настройки были произведены вами ранее и уже сохранены — не наш случай</p>
<p><img alt="img" src="http://4.bp.blogspot.com/-HCy8IbLWVZ0/UGUzDcQxP0I/AAAAAAAABkI/VOf5f3Y3V1w/s1600/local_dev.jpg" /></p>
<h3>Теперь внимание! — ответственный момент</h3>
<p>Сначала следует выбрать диск-источник, с которого будет снят образ.</p>
<p>И уже после диск-приёмник, куда наш образ будет сохранён и откуда будет с лёгкостью восстановлен при необходимости.</p>
<p><img alt="img2" src="http://3.bp.blogspot.com/-u8XX9bapta0/UGUzOoZsq2I/AAAAAAAABkQ/T2a7gaxvC3o/s1600/sda.jpg" /></p>
<p>Программа предложит сохранить данные на usb-накопитель, что чаще всего и бывает нужно. Если так, подключите usb-диск, подождите немного пока он смонтируется в нужную директорию и жмите <code>Enter</code>. Сохраним диск как образ системы</p>
<p><img alt="img2" src="http://3.bp.blogspot.com/-52Ee6CrfqRc/UGUzWPAOlPI/AAAAAAAABkY/W85cr9I70x4/s1600/savedisk.jpg" /></p>
<h3>После этого надо будет лишь изъявить своё желание в последующей проверке образа либо отказаться от этой процедуры.</h3>
<p>В завершение выйдем в командную строку и перезугрузимся:</p>
<div class="highlight"><pre><span class="gp">$</span> <span class="nb">exit</span>
<span class="gp">$</span><span class="nb"> </span>sudo reboot
</pre></div>


<h3>Восстановление образа происходит так же</h3>
<p>Выбор диска откуда восстанавливать, выбор места, куда.</p>
<p>Только теперь вместо сохранения на диск будет использован другой пункт — <code>restore</code>:</p>
<p><img alt="img3" src="http://2.bp.blogspot.com/-xO7bxANOtGo/UGUzjP3yo1I/AAAAAAAABkg/kEEl0oExGWY/s1600/restore.jpg" /></p>
<p>Просто и удобно. Также помните, что в случае выбора каких-либо неверных настроек до начала процедуры архивирования/восстановления вы всегда можете выйти в консоль и начать заново.</p>
<h5><i class="icon-user"></i> <a href="http://www.unix-lab.org/author/redvi.html">redVi</a>,
<i class="icon-bookmarks"></i> <a href="http://www.unix-lab.org/tag/arch.html">Arch</a> /
<a href="http://www.unix-lab.org/tag/linux.html">Linux</a> /
</h5>
<p align="center"><a href="#">наверх</a></p>
</div>
</div>
<div id="footer-wrapper">
<ul class="footer">
       <li class="footer"><a href="http://www.unix-lab.org/tag/android.html">Android&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/arch.html">Arch&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/blog.html">Blog&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/debian.html">Debian&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/decorations.html">Decorations&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/django.html">Django&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/editors.html">Editors&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/gentoo.html">Gentoo&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/git.html">Git&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/javascript.html">JavaScript&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/kernel.html">Kernel&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/latex.html">LaTeX&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/linux.html">Linux&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/python.html">Python&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/server.html">Server&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/web.html">Web&nbsp;&bull;</a></li>
       <li class="footer"><a href="http://www.unix-lab.org/tag/windows.html">Windows&nbsp;&bull;</a></li>
  </ul><ul class="footer">
    <li class="footer">&copy;&nbsp;2011&mdash;2013&nbsp;::</li>
    <li class="footer"><a href="http://www.unix-lab.org">unix-lab.org </a>&nbsp;::</li>
    <li class="footer">powered by <a href="https://github.com/getpelican">pelican</a>&nbsp;::</li>
    <li class="footer"><a href="http://creativecommons.org/licenses/by-nc/3.0/deed.ru">CC BY-NC</a></li>
</ul>
</div><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42400517-1', 'www.unix-lab.org');
  ga('send', 'pageview');

</script>
</body>
</html>