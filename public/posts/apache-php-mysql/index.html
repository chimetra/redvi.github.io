<!DOCTYPE html>
<html lang="ru">
<head>

  <title>Apache+PHP+MySQL под Windows | UNIX-LAB.ORG</title>
  <meta name="description" content="Настройка Apache, PHP и MySQL под Windows.">

  <meta charset="utf-8">
  <meta name="author" content="redVi">
  <meta name='yandex-verification' content='494a81ecb0e796d6' />
  <meta name="viewport" content="initial-scale=1.0, width=device-width" />
  <link rel="icon" href="http://www.unix-lab.org/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="http://www.unix-lab.org/favicon.ico" type="image/x-icon">
  <link href="http://www.unix-lab.org/assets/stylesheets/screen.css" rel="stylesheet" type="text/css" />
  <link rel="alternate" type="application/atom+xml" title="UNIX-LAB.ORG" href="http://www.unix-lab.org/feeds/atom.xml">
  <link rel="alternate" type="application/rss+xml" title="UNIX-LAB.ORG" href="http://www.unix-lab.org/feeds/rss.xml">
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
    <a href="/"><div class="logo"></div></a>
    <div class="small">блог об операционных системах, open source и программировании</div>
<div class="nav">
  <ul>
    <li><a href="/archive/">Архив</a></li>
    <li><a href="/about/">О блоге</a></li>
  </ul>
</div>
</div>

<div id="main">
<h2>Apache+PHP+MySQL под Windows</h2>
<h5><i class="icon-feather"></i> 26 мая 2012

 <i class="icon-bookmarks"></i>

<a href="/tags/server.html">Server /</a>

<a href="/tags/windows.html">Windows /</a>

</h5>

<p>Тему о веб-серверах после опубликованных постов, где производилась установка <a href="http://www.unix-lab.org/posts/lamp/">LAMP на ArchLinux</a>, приводились <a href="http://www.unix-lab.org/posts/nginx/">настройки Nginx</a> и прочее, хотелось закрыть. Но, как оказалось, не все хотят пользоваться готовыми пакетами, где кто-то уже сделал настройки по-своему, решил за вас. Что ж, поскольку есть спрос на данную тему, а инструкций по установке всего этого комплекта 3 в одном мало или же нет вовсе, посвятим сему сегодняшний пост.</p>

<h2 id="toc_0">Apache</h2>

<p>Скачивается с сайта: <apache.org></p>

<p><img src="http://4.bp.blogspot.com/-WQR3jhVhuFQ/T8DXh8wJYrI/AAAAAAAAAng/Y8V2Ig5FcfA/s1600/apache+org.png" alt="apache" title="apache"></p>

<p>Установка проста до безобразия. Запускаем инсталлятор, везде жмём &quot;Next&quot;, призадумываемся, увидев строки, где нужно вписать имя домена и т.п. Пишем банальное &quot;localhost&quot; и при желании свой e-mail для уведомлений.</p>

<p><img src="http://4.bp.blogspot.com/-a7QNRFLH0SY/T8DXuB9qNQI/AAAAAAAAAno/zVe5eCNqmlc/s1600/apache.png" alt="http" title="http"></p>

<p>Как ни в чём ни бывало продолжаем установку. В финале жмём &quot;Finish&quot;</p>

<p><img src="http://4.bp.blogspot.com/-fIr5gxtMcno/T8DYQPR2aCI/AAAAAAAAAnw/esNWCZX-6PY/s1600/apache-install2.png" alt="finish" title="finish"></p>

<p>После успешной установки в трее появится служба, с помощью которой можно запустить/перезапустить/остановить веб-сервер. Для этого кликаем левой кнопкой мыши и, собственно, выбираем необходимое действо. Нажатие правой кнопкой позволит перейти к сервису Apache или же отключить службу.
Доступ к службам можно получить иначе:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">Панель управления -&gt; Система и безопасность -&gt; Администрирование -&gt; Службы
</code></pre></div>
<p><img src="http://4.bp.blogspot.com/-tSVUz_03dQw/T8DYYiPKvjI/AAAAAAAAAoA/5tSpYx9PDUw/s1600/apache-services.png" alt="service" title="service"></p>

<p>Открываем любимый браузер, пишем в адресной строке <a href="http://localhost">http://localhost</a> и видим в зависимости от версии продукта либо страницу как на изображении ниже, либо запись &quot;It works!&quot;. И что бы это значило? Верно, значит мы всё сделали правильно.</p>

<p><img src="http://3.bp.blogspot.com/-h5dJPIxqJYE/T8DYfGYUaYI/AAAAAAAAAoI/1jCtpDVyn-o/s1600/apache+localhost4.png" alt="welcome" title="welcome"></p>

<p>Посмотрим, что же нужно настроить в первую очередь.</p>

<p>Идём по пути <code>C:\Program Files (x86)\Apache Group\Apache2\conf</code> (или туда, где у вас установлен Apache и лежит файл <code>httpd.conf</code>). Открываем <code>httpd.conf</code>, находим строки &quot;The following lines prevent .htaccess and .htpasswd files from being&quot;</p>

<p>Под ними примерно такой код:</p>
<div class="highlight"><pre><code class="apache language-apache" data-lang="apache"><span class="nt">&lt;Directory</span> <span class="s">/</span><span class="nt">&gt;</span>
    <span class="nb">Options</span> FollowSymLinks
    <span class="nb">AllowOverride</span> <span class="k">None</span>
<span class="nt">&lt;/Directory&gt;</span>
</code></pre></div>
<p><code>None</code> - изменить на <code>All</code>, это разрешит использование <code>.htaccess</code>, который в отличие от <code>httpd.conf</code> не требует перезапуска веб-сервера.</p>

<p>И, раз уж мы сюда зашли, давайте сразу подключим наш PHP, который сейчас будем устанавливать, дабы веб-сервер корректно обрабатывал файлы с расширением <code>.php</code> и наш код соответственно.</p>

<p>Итак, в том же <code>httpd.conf</code> находим строки <code>LoadModule</code> и где-нибудь ниже их дописываем:</p>
<div class="highlight"><pre><code class="apache language-apache" data-lang="apache"><span class="c">#PHP</span>
<span class="nb">LoadModule</span> php5_module <span class="s2">&quot;C:/php5/php5apache2_2.dll&quot;</span>
<span class="nb">AddType</span> application/x-httpd-php .php
<span class="nb">AddType</span> application/x-httpd-php-source .phps

<span class="nb">AddType</span> application/x-httpd-php .html
<span class="nb">AddType</span> application/x-httpd-php .htm
</code></pre></div>
<p><b>ВНИМАНИЕ!</b> Путь <code>C:/php5/php5apache2_2.dll</code> указывает, что наш PHP будет находиться в папке <code>C:/php5</code>, учитываем это при установке. А вот какую версию php5apache подключать, зависит от того, какая версия apache у вас установлена. Чтобы не запутать читателя: Apache 2.2 - <code>php5apache2_2.dll</code>, Apache 2.3 - <code>php5apache2_3.dll</code>. Подключайте то, что необходимо вам.</p>

<h2 id="toc_1">PHP</h2>

<p>Далее идём на сайт <a href="http://php.net/downloads.php">http://php.net/downloads.php</a> и скачиваем оттуда zip-архив с новой версией PHP.</p>

<p>Распаковываем, как условились, в <code>C:/php5</code>, предварительно создав папочку <code>php5</code>. Поскольку пути к PHP в Apache мы уже прописали, можно считать установку завершённой.  Кому нужен файл <code>php.ini</code> для тонкой настройки, идём в <code>C:/php5</code>, ищем <code>php.ini-development</code>, сохраняем его копию как <code>php.ini</code>.</p>

<p>Неплохо было бы сразу пройтись в <code>php.ini</code> и раскомментировать строки, начинающиеся с <code>;mysqli</code> и <code>musql</code>. То есть так:</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">было: ;mysqli
станет: mysqli
</code></pre></div>
<p>Проверим работоспособность PHP на нашем сервере. В корневой папке Apache есть ещё папка - <code>htdocs</code>. Нам туда. Заметили? Здесь лежит файл <code>index.html</code>, который показывал нам, что всё работает. Напишем пару строк кода на PHP и сохраним здесь же, только как <code>index.php</code>:</p>
<div class="highlight"><pre><code class="html language-html" data-lang="html"><span class="nt">&lt;html&gt;</span>
<span class="cp">&lt;?php</span>
<span class="cp">  phpinfo()</span>
<span class="cp">?&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div>
<p>Переходим по адресу: <a href="http://localhost/index/php">http://localhost/index/php</a></p>

<p><img src="http://1.bp.blogspot.com/-4PYYfS0dyoY/T8DZvECRg-I/AAAAAAAAAoQ/jufK8sf65rU/s1600/index.png" alt="localhost" title="localhost"></p>

<p>Пока всё. Работоспособность нашего веб-сервера в связке с PHP не вызывает сомнений.</p>

<h2 id="toc_2">MySQL</h2>

<p>Идём на сайт <a href="http://www.mysql.com/downloads/">http://www.mysql.com/downloads/</a>, скеачиваем версию <code>MySQL Community Server</code>. Другие в данном случае не нужны.</p>

<p>Запускаем инсталлятор. Тип установки: <code>Typical</code></p>

<p><img src="http://1.bp.blogspot.com/-QWjGO7pfuOk/T8DZ87-LBYI/AAAAAAAAAoY/acMquvuxA7A/s1600/mysql.png" alt="mysql" title="MySQL"></p>

<p>Доходим до выбора типа конфигурации, выбираем расширенный:</p>

<p><img src="http://1.bp.blogspot.com/-c9NwybxAQDc/T8DaCXRDjpI/AAAAAAAAAog/FNKWO4i7gXA/s1600/mysql2.png" alt="MySQL2" title="MySQL type"></p>

<p>Далее последует вопрос, для какой машины устанавливать. Выбираем машину разработчика:</p>

<p><img src="http://4.bp.blogspot.com/-5p2AqGkBbhs/T8DaINB0HfI/AAAAAAAAAoo/XLBycae4LUE/s1600/mysql3.png" alt="MySQL3" title="MySQL mashine"></p>

<p>Языковая поддержка - мультиязычный:</p>

<p><img src="http://4.bp.blogspot.com/-YwYLFpIO7mU/T8DaNqzyQDI/AAAAAAAAAow/0WY1CVK-EyM/s1600/mysql4.png" alt="mysql4" title="MySQL database"></p>

<p>Путь установки. По умолчанию, либо задайте свой:</p>

<p><img src="http://2.bp.blogspot.com/-mheaCYCJBWk/T8DaTHegUNI/AAAAAAAAAo4/s7QkWQbau2I/s1600/mysql5.png" alt="MySQL5" title="MySQL path"></p>

<p>Количество подключений к серверу баз данных. По умолчанию предлагается 15-20, так и оставим:</p>

<p><img src="http://1.bp.blogspot.com/-7NhsyDlS6K4/T8DaYZ9gBiI/AAAAAAAAApA/gY6qbN61zoo/s1600/mysql6.png" alt="MySQL6" title="MySQL approximate number"></p>

<p>Указание номера порта - стандартный - 3306, указание добавить исключение для брандмауэра и прочее:</p>

<p><img src="http://4.bp.blogspot.com/-LWj8_7E0CR4/T8DaefSwxbI/AAAAAAAAApI/eKbzam4O2eg/s1600/mysql7.png" alt="mysql7" title="MySQL tcp"></p>

<p>Выбор языково поддержки. Убедитесь, что выставили кодировку utf-8 :</p>

<p><img src="http://3.bp.blogspot.com/-LFgFUoV7qcs/T8DakR5t5RI/AAAAAAAAApQ/RvcaTSa120Y/s1600/mysql8.png" alt="mysql8" title="MySQL utf"></p>

<p>Установить как сервис Windows, запускать автоматически (впрочем, последнее решать вам):</p>

<p><img src="http://4.bp.blogspot.com/-3Rfp5puQMDg/T8DapXrVwvI/AAAAAAAAApY/2Fs3PTKh-M0/s1600/mysql9.png" alt="mysql9" title="MySQL server"></p>

<p>Задать пароль для входа в БД:</p>

<p><img src="http://1.bp.blogspot.com/-I-A0-eoq67M/T8DavjC0_aI/AAAAAAAAApg/48u66lg_fqY/s1600/mysql10.png" alt="MySQL10" title="MySQL server"></p>

<p>Готово. Позднее установим <a href="http://www.unix-lab.org/posts/phpmyadmin/">phpmyadmin</a> и попробуем проделать <a href="http://www.unix-lab.org/posts/mysql-install/">ручную установку СУБД MySQL</a> для тех, у кого зависает  инсталлятор. К несчастью, такое бывает.</p>


<br />
<p align="center"><a href="#">наверх</a></p>
<br />
<div id="comments"></div>
<script type="text/javascript" class="juvia">
(function() {
    var options = {
        container   : '#comments',
        site_key    : 'gcquc3fefcn3kyoj7jstkb7ic8f90cw',
        topic_key   : '/posts/apache-php-mysql',
        topic_url   : 'http://www.unix-lab.org/posts/apache-php-mysql',
        topic_title : 'Apache+PHP+MySQL под Windows' || 'http://www.unix-lab.org/posts/apache-php-mysql',
        include_base: !window.Juvia,
        include_css : !window.Juvia
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://juvia-unixlab.rhcloud.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);
    (document.getElementsByTagName('head')[0] ||
     document.getElementsByTagName('body')[0]).appendChild(s);
})();
</script>



</div>
</div>
<div id="footer-wrapper">
<ul class="footer">
   <a href="/tags/android.html" class="set-1">android</a> <a href="/tags/arch.html" class="set-3">arch</a> <a href="/tags/blog.html" class="set-1">blog</a> <a href="/tags/debian.html" class="set-1">debian</a> <a href="/tags/decorations.html" class="set-1">decorations</a> <a href="/tags/editors.html" class="set-1">editors</a> <a href="/tags/gentoo.html" class="set-1">gentoo</a> <a href="/tags/git.html" class="set-1">git</a> <a href="/tags/kernel.html" class="set-1">kernel</a> <a href="/tags/latex.html" class="set-1">latex</a> <a href="/tags/linux.html" class="set-5">linux</a> <a href="/tags/python.html" class="set-2">python</a> <a href="/tags/ruby.html" class="set-1">ruby</a> <a href="/tags/server.html" class="set-2">server</a> <a href="/tags/web.html" class="set-1">web</a> <a href="/tags/windows.html" class="set-1">windows</a>
</ul>
<ul class="footer">
    <li class="footer">&copy; 2011&mdash;2013 ::</li>
    <li class="footer"><a href="/">unix-lab.org</a> ::</li>
    <li class="footer">licensed under <a href="http://creativecommons.org/licenses/by-nc/3.0/deed.ru">CC BY-NC</a></li>
</ul>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', '');
  ga('send', 'pageview');

</script>

</body>
</html>
