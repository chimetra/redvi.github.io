<!DOCTYPE html>
<html lang="ru">
<head>

  <title>Простое создание резервных копий с clonezilla | UNIX-LAB.ORG</title>
  <meta name="description" content="">

  <meta charset="utf-8">
  <meta name="author" content="redVi">
  <meta name='yandex-verification' content='494a81ecb0e796d6' />
  <meta name="viewport" content="initial-scale=1.0, width=device-width" />
  <link rel="icon" href="http://www.unix-lab.org/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="http://www.unix-lab.org/favicon.ico" type="image/x-icon">
  <link href="http://www.unix-lab.org/assets/stylesheets/screen.css" rel="stylesheet" type="text/css" />
  <link rel="alternate" type="application/atom+xml" title="UNIX-LAB.ORG" href="http://www.unix-lab.org/feeds/atom.xml">
  <link rel="alternate" type="application/rss+xml" title="UNIX-LAB.ORG" href="http://www.unix-lab.org/feeds/rss.xml">
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
    <a href="/"><div class="logo"></div></a>
    <div class="small">блог об операционных системах, open source и программировании</div>
<div class="nav">
  <ul>
    <li><a href="/archive/">Архив</a></li>
    <li><a href="/about/">О блоге</a></li>
  </ul>
</div>
</div>

<div id="main">
<h2>Простое создание резервных копий с clonezilla</h2>
<h5><i class="icon-feather"></i> 16 октября 2012

 <i class="icon-bookmarks"></i>

<a href="/tags/arch.html">Arch /</a>

<a href="/tags/linux.html">Linux /</a>

</h5>

<p>Весьма и весьма удобно создавать образ своей операционной системы, дабы затем восстанавливать не отдельные разделы, а всё — целиком и полностью. В linux традиционно принято проводить эту процедуру при помощи утилиты dd, которая копирует содержимое диска поблочно, ну и восстанавливает так же. То есть если объём вашего нынешнего HDD 500 Гб, то восстановив свои данные на новый диск, вы получите те же 500 Гб, даже если ваш новый диск имеет куда больший размер. Остальное пространство использовано не будет. По этому поводу сегодня вспомним другую полезность в лице cp, а также упростим процедуру создания образа диска с linux.</p>

<p>Заранее приношу свои извинения за качество снимков, процедура проводилась на реальном железе. Скрины с виртуальной машины, конечно, выглядели бы эстетичнее.</p>

<p>Итак, ежели поблочное копирование вам не нужно ввиду желания поместить систему на диск большего объёма, читаем заметку о создании резервного копирования при помощи <a href="http://www.unix-lab.org/posts/linux-on-hdd/">cp</a>.</p>

<p>Для всех остальных предназначен данный пост, где мы рассмотрим такую замечательную штуку как clonezilla. Clonezilla умеет работать с любой операционной системой, поэтому создаст вам точную копию диска как Windows, так и Linux машины.</p>

<p>Скачать live cd clonezilla можно <a href="http://clonezilla.org/downloads.php">по этому адресу</a>. После чего следует записать образ на диск либо создать загрузочную флешку. Собственно, как с этим работать:</p>

<p>clonezilla так же как и dd берёт всё содержимое вашего жёсткого диска и архивирует его. При последующем восстановлении системы, хоть на пустой диск, хоть на диск с какими-либо данными ( которые затрутся впоследствии) вы получите те же разделы того же размера, которые имелись на момент создания образа. Что ж, начали.</p>

<h3 id="toc_0">Загружаемся с live cd — параметры можно оставить по дефолту</h3>

<p>Далее нам будет предложено выбрать язык и раскладку клавиатуры. Поскольку мы являемся носителями русского языка, его и выберем. Также убедительно попросим не трогать раскладку.</p>

<p><img src="http://3.bp.blogspot.com/-053eQvEIivQ/UGUy1p3iQEI/AAAAAAAABj4/uh8D7ru8LEc/s1600/language.jpg" alt="img"></p>

<p>Далее выберите, что угодно вам: создание образа диска как в этом примере или же работа с отдельными разделами</p>

<p><img src="http://3.bp.blogspot.com/-Tf2U24_pwBE/UGUy8DzAL-I/AAAAAAAABkA/fcVK1pWFOL8/s1600/clonezilla.jpg" alt="img"></p>

<p>После чего нас снова попросят сделать выбор:</p>

<p>clonezilla может создать образ на локальном диске, передать его по ssh или на samba-сервер/nfs-сервер. Skip следует нажать в случае, если настройки были произведены вами ранее и уже сохранены — не наш случай</p>

<p><img src="http://4.bp.blogspot.com/-HCy8IbLWVZ0/UGUzDcQxP0I/AAAAAAAABkI/VOf5f3Y3V1w/s1600/local_dev.jpg" alt="img"></p>

<h3 id="toc_1">Теперь внимание! — ответственный момент</h3>

<p>Сначала следует выбрать диск-источник, с которого будет снят образ.</p>

<p>И уже после диск-приёмник, куда наш образ будет сохранён и откуда будет с лёгкостью восстановлен при необходимости.</p>

<p><img src="http://3.bp.blogspot.com/-u8XX9bapta0/UGUzOoZsq2I/AAAAAAAABkQ/T2a7gaxvC3o/s1600/sda.jpg" alt="img2"></p>

<p>Программа предложит сохранить данные на usb-накопитель, что чаще всего и бывает нужно. Если так, подключите usb-диск, подождите немного пока он смонтируется в нужную директорию и жмите <code>Enter</code>. Сохраним диск как образ системы</p>

<p><img src="http://3.bp.blogspot.com/-52Ee6CrfqRc/UGUzWPAOlPI/AAAAAAAABkY/W85cr9I70x4/s1600/savedisk.jpg" alt="img2"></p>

<h3 id="toc_2">После этого надо будет лишь изъявить своё желание в последующей проверке образа либо отказаться от этой процедуры.</h3>

<p>В завершение выйдем в командную строку и перезугрузимся:</p>
<div class="highlight"><pre><code class="console language-console" data-lang="console"><span class="gp">$</span> <span class="nb">exit</span>
<span class="gp">$</span><span class="nb"> </span>sudo reboot
</code></pre></div>
<h3 id="toc_3">Восстановление образа происходит так же</h3>

<p>Выбор диска откуда восстанавливать, выбор места, куда.</p>

<p>Только теперь вместо сохранения на диск будет использован другой пункт — <code>restore</code>:</p>

<p><img src="http://2.bp.blogspot.com/-xO7bxANOtGo/UGUzjP3yo1I/AAAAAAAABkg/kEEl0oExGWY/s1600/restore.jpg" alt="img3"></p>

<p>Просто и удобно. Также помните, что в случае выбора каких-либо неверных настроек до начала процедуры архивирования/восстановления вы всегда можете выйти в консоль и начать заново.</p>


<br />
<p align="center"><a href="#">наверх</a></p>
<br />
<div id="comments"></div>
<script type="text/javascript" class="juvia">
(function() {
    var options = {
        container   : '#comments',
        site_key    : 'gcquc3fefcn3kyoj7jstkb7ic8f90cw',
        topic_key   : '/posts/clonezilla',
        topic_url   : 'http://www.unix-lab.org/posts/clonezilla',
        topic_title : 'Простое создание резервных копий с clonezilla' || 'http://www.unix-lab.org/posts/clonezilla',
        include_base: !window.Juvia,
        include_css : !window.Juvia
    };

    function makeQueryString(options) {
        var key, params = [];
        for (key in options) {
            params.push(
                encodeURIComponent(key) +
                '=' +
                encodeURIComponent(options[key]));
        }
        return params.join('&');
    }

    function makeApiUrl(options) {
        // Makes sure that each call generates a unique URL, otherwise
        // the browser may not actually perform the request.
        if (!('_juviaRequestCounter' in window)) {
            window._juviaRequestCounter = 0;
        }

        var result =
            'http://juvia-unixlab.rhcloud.com/api/show_topic.js' +
            '?_c=' + window._juviaRequestCounter +
            '&' + makeQueryString(options);
        window._juviaRequestCounter++;
        return result;
    }

    var s       = document.createElement('script');
    s.async     = true;
    s.type      = 'text/javascript';
    s.className = 'juvia';
    s.src       = makeApiUrl(options);
    (document.getElementsByTagName('head')[0] ||
     document.getElementsByTagName('body')[0]).appendChild(s);
})();
</script>



</div>
</div>
<div id="footer-wrapper">
<ul class="footer">
   <a href="/tags/android.html" class="set-1">android</a> <a href="/tags/arch.html" class="set-3">arch</a> <a href="/tags/blog.html" class="set-1">blog</a> <a href="/tags/debian.html" class="set-1">debian</a> <a href="/tags/decorations.html" class="set-1">decorations</a> <a href="/tags/editors.html" class="set-1">editors</a> <a href="/tags/gentoo.html" class="set-1">gentoo</a> <a href="/tags/git.html" class="set-1">git</a> <a href="/tags/kernel.html" class="set-1">kernel</a> <a href="/tags/latex.html" class="set-1">latex</a> <a href="/tags/linux.html" class="set-5">linux</a> <a href="/tags/python.html" class="set-2">python</a> <a href="/tags/ruby.html" class="set-1">ruby</a> <a href="/tags/server.html" class="set-2">server</a> <a href="/tags/web.html" class="set-1">web</a> <a href="/tags/windows.html" class="set-1">windows</a>
</ul>
<ul class="footer">
    <li class="footer">&copy; 2011&mdash;2013 ::</li>
    <li class="footer"><a href="/">unix-lab.org</a> ::</li>
    <li class="footer">licensed under <a href="http://creativecommons.org/licenses/by-nc/3.0/deed.ru">CC BY-NC</a></li>
</ul>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', '', '');
  ga('send', 'pageview');

</script>

</body>
</html>
