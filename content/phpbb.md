Title: Создание форума с phpBB
Date: 2012-03-04 1:15
Tags: Server
Slug: phpbb
Author: redVi
Summary: Пример установки и настройки форумного движка phpBB

Да, автор данной статьи, как и многие другие, считает phpBB  лучшим PHP-движком для форумов. Вот сейчас мы и посмотрим, как проходит его установка. Отмечу, что phpBB требует СУБД MySQL (те, кто не знает, что это - не пугайтесь, всё нормально), в начале речь пойдёт о настройке новой базы данных, а затем мы скачаем и установим наш замечательный движок. Обзора первоначальной настройки форума не будет, ибо просто там всё.

## Установка и настройка MySQL

Итак, приступим. Те, у кого  MySQL ещё не установлен, используем команду:

```console
# pacman -S mysql
```

Для запуска MySQL-сервера введите следующую команду:

```console
# /etc/rc.d/mysqld start
```

Для запуска MySQL при старте системы, редактируем строку `DAEMONS=` в файле `/etc/rc.conf` :

```
DAEMONS=(...  mysqld httpd)
```

После установки, запускаем в консоли `mysql_secure_installation`, отвечаем на вопросы, вам будет представлена возможность назначить или изменить пароль MySQL для root пользователя (по умолчанию он не установлен), удалить анонимные учетные записи пользователей и удалить тестовые базы данных.
Теперь займёмся созданием базы данных и предоставим пользователям разрешения на их использование.

Осуществляем в MySQL:

```console
# mysql -u root -p
```

После того как вы введете пароль root пользователя MySQL, вы сможете начать взаимодействие с MySQL сервером.

Создаём новую базу данных и пользователя:

```console
> create database имя_новой_базы_данных;
```

`grant all on имя_новой_базы_данных.* to ’имя-пользователя_бд’ identified by ’пароль_бд’;
flush privileges;`

Для выхода из администрирования MySQL введите:

```console
> quit
```

<b>Прмечание</b>: в ранних постах была описана полная установка LAMP. вы можете прочесть об этом подробнее:

[Установка Web-сервера в Ubuntu](http://root-inform.blogspot.com/2011/09/apachewordpress.html)

[Arch и LAMP](http://www.unix-lab.org/posts/lamp/)

[Windows and Denver](http://root-inform.blogspot.com/2011/09/denver-joomla.html)

Ну, а для интересующихся припасена у меня сладкая ссылка на русскоязычную документацию, [ловите](http://www.mysql.ru/docs/mysql-man-4.0-ru/).

На этом первая часть нашей работы завершена, теперь непосредственно установка phpBB.

## PHPBB Install

Идём на сайт [phpbbguru](http://www.phpbbguru.net/); и скачиваем zip-архив с последней версией phpBB.
Далее заходим на наш локальный сервер и распаковываем архив в директорию с сайтом:

```console
$ cd /srv/http/
$ sudo mkdir forum
$ sudo unzip phpbb-3.0.10-rus.zip /srv/http/forum
$ cd forum/phpBB3
```

Следуем по адресу `http://localhost/forum/phpBB3/` в директорию `install`. Кликаем на `index.php` и предстанет пред нами картина, подобная этой:

![welcome](http://farm6.staticflickr.com/5493/9261865950_82e124d2e0_z.jpg)

Теперь начнём устаноку:

![install](http://farm4.staticflickr.com/3735/9261865970_6cca56b5a8_z.jpg)

Установщик проверит соответствуют ли ваши настройки требованиям phpBB. У автора при этом директории `cache`, `files`, `store` на запись доступны не были. Идём по адресу, куда закинули свой будущий форум и исправляем ситуацию:

```console
$ cd /srv/http/forum/phpBB3
$ sudo chmod 777 cache/ files/ store/
```

или просто даём права на чтение/запись командой

```console
$ chmod +rw
```

![files](http://2.bp.blogspot.com/-B6MkGt1-Jqg/Twl_1OFcI3I/AAAAAAAAAfw/lQuuleYS49A/s1600/phpbb3-3.png)

Вводим данные:

- Имя сервера БД или DNS --- localhost
- Порт сервера БД --- 80 или как вам угодно, или не пишите ничего
- Название базы данных --- то, что вы указали при настройке MySQL
- Имя пользователя и пароль БД --- см. опять же выше
- Префикс таблиц, как правило, менять не надо

После чего нас попросят ввести имя и пароль админа сайта, а также его e-mail.

![bd](http://1.bp.blogspot.com/-wd-0EQ5f-Mw/TwmApXdDTUI/AAAAAAAAAf4/KG7FZEt6VpE/s1600/phpbb3_4.png)

И здесь нас ждала неожиданность. Движок хотел было перезаписать свой файл, да прав ему не хватило, о чём он и посетовал. Что ж, просто кликаем `"скачать"` и заменяем этот файл.

Следующую страницу настраивайте по своему усмотрению, не смею советовать:

![mail](http://farm8.staticflickr.com/7304/9261866014_607bcc3829_z.jpg)

Вот и всё. Установка прошла как по маслу.

И вид как админпанели, так и самого форума по умолчанию прекрасен. Лёгкий и приятный для глаз.
Хотя стили вы можете поменять, скачав их  [здесь](http://www.phpbb.com/styles/demo/3.0/index.php).
