Title: Распаковка архива на сервере
Date: 2012-01-05 08:25
Tags: Web, Windows, Server
Slug: unpack-archive
Author: redVi
Summary: Зачастую перед web-мастером или администратором сайта встаёт задача работы с архивами. В случае, если вам необходимо залить на хостинг большой объём файлов или же целый сайт, временные затраты могут быть достаточно велики.

Зачастую перед web-мастером или администратором сайта встаёт задача работы с архивами. В случае, если вам необходимо залить на хостинг большой объём файлов или же целый сайт, временные затраты могут быть достаточно велики. Архивы весят куда меньше, да и распаковка проходит быстро, но не каждый хостер предоставляет инструменты для работы с архивами. Поэтому мы воспользуемся двумя php-файлами, которые и будут этими инструментами.

Что понадобится?
ftp-доступ, блокнот и zip-архиватор.

`I.` Открываем блокнот (а лучше notepad ++) и создаём два файла, которые сохраним в формате `название_файла.php`

Файл первый, назовём его `unzip.php`:

    <?php
    require_once('pclzip.lib.php');
    $archive = new PclZip('archive.zip');
    if ($archive->extract() == 0) {
        die("Error : ".$archive->errorInfo(true));
    }else{
        echo 'ok';
    }
    ?>

Файл второй &mdash; `pclzip.lib.php` (слишком велик для помещения на страницы блога, ниже на него будет дана ссылка).

Итак, код готов.

`II.` Упаковываем файлы, которые хотели закинуть на сервер хостера, в zip и даём название этому архиву &mdash; `archive.zip`

`III.` Заливаем наши два php-файла вместе с архивом в папку, где хотим распаковать архив. В примере &mdash; корневая директория.

И набираем в браузере адрес:

`http://ваш_сайт/uzip.php`

Так архив распакуется в корневую директорию сервера.

Примечание: вы можете скачать эти файлы &mdash;  [pclzip.lib.php](https://gist.github.com/redVi/5028352), [unzip.php](https://gist.github.com/redVi/5028347) &mdash; или воспользоваться программкой php unzipper, которая есть на просторах интернета вместе с инструкцией по применению.
